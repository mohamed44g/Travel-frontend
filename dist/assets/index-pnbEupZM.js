import{G as g,a as e,i as u,j as r,T as s,w as m,B as d,r as v,N as b,S as N,P as k,R as w,c as S,F as C,d as D,k as h}from"./index-yAhHFPex.js";import{c as z}from"./convertTohumandate-DdAuRS0w.js";const I=({trip_id:n,image:t,name:c,price:a,date:i,num_travelers:l,location:p,rating:x,des:P})=>{const y=b(),f=async()=>{try{await D.delete(`/users/destination/${+n}`),await y.refetchQueries({queryKey:["userDestinations"]}),h.success("Destination deleted successfully!")}catch(o){h.error(o==null?void 0:o.message)}};return e(C,{children:r("div",{className:"product",children:[e("div",{className:"product-content",children:r("div",{className:"product-img",children:[e("div",{className:"product-img-overlay"}),e("img",{src:t,alt:"product image",loading:"lazy"})]})}),r("div",{className:"product-info",children:[e(s,{variant:"body1",children:c}),r(N,{className:"product-location",direction:"row",sx:{alignItems:"center",mt:1,ml:-.5},children:[e(k,{sx:{fontSize:18}}),e("span",{children:p})]}),e(d,{children:e(w,{name:"half-rating-read",sx:{fontSize:18,mt:1,color:"#1fd755"},defaultValue:x,readOnly:!0})}),r("p",{className:"product-price",children:["$ ",+a*l]}),r(s,{variant:"body2",sx:{mt:1,color:"text.secondary"},children:["fly at : ",z(i)]}),r(s,{variant:"body2",sx:{mt:1,color:"text.secondary"},children:["trip members : ",l]}),e(S,{variant:"outlined",sx:{mt:4},color:"text.primary",fullWidth:!0,onClick:f,children:"Cancel trip"})]})]})})};function G(){const{isPending:n,data:t,refetch:c}=g({url:"/users/destination",keyID:"userDestinations"}),a=t==null?void 0:t.data;return n?e(u,{}):e(v.Suspense,{fallback:e(u,{}),children:r(d,{className:"profile",sx:{p:{xs:3,sm:4}},children:[e(s,{variant:"h4",sx:{mb:4},children:"Your ticketes"}),e(m,{container:!0,spacing:2,children:a.length?a==null?void 0:a.map(i=>e(m,{size:12,children:e(I,{...i,des:c})},i.trip_id)):e(d,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:1,mb:2},children:e(s,{variant:"body2",sx:{textAlign:"center",m:2},children:"No trip found add some trips to shows here."})})})]})})}export{G as default};
