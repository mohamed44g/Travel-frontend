import{n as I,m as v,s as f,r as u,C as y,D as L,f as g,p as A,q as C,e as S,G as b,a as t,i as h,j as c,T as m,L as k,v as M,A as j,O as D,F,Q as R,B as w,k as d,d as T}from"./index-yAhHFPex.js";import{c as U}from"./convertTohumandate-DdAuRS0w.js";function z(a){return v("MuiListItemAvatar",a)}I("MuiListItemAvatar",["root","alignItemsFlexStart"]);const B=a=>{const{alignItems:r,classes:e}=a;return C({root:["root",r==="flex-start"&&"alignItemsFlexStart"]},z,e)},H=f("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(a,r)=>{const{ownerState:e}=a;return[r.root,e.alignItems==="flex-start"&&r.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),p=u.forwardRef(function(r,e){const o=y({props:r,name:"MuiListItemAvatar"}),{className:n,...l}=o,s=u.useContext(L),i={...o,alignItems:s.alignItems},x=B(i);return g.jsx(H,{className:A(x.root,n),ownerState:i,ref:e,...l})}),N=S(g.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");function E(){const{isPending:a,error:r,data:e,refetch:o}=b({url:"/users/comment",keyID:"userComment"}),n=e==null?void 0:e.data;console.log(n);const l=async s=>{const i=d.loading("deleting your comment...");try{await T.delete(`/users/comment?commentId=${Number(s)}`),o(),d.dismiss(i)}catch{d.error("Failed to delete comment.")}};return a?t(h,{}):t(u.Suspense,{fallback:t(h,{}),children:c(w,{sx:{p:{xs:2,sm:4}},children:[t(m,{variant:"h4",sx:{mb:4},children:"Your comments"}),t(k,{sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:n.length?n==null?void 0:n.map(s=>c(M,{alignItems:"flex-start",children:[t(p,{children:t(j,{alt:"m",src:"/"})}),t(D,{primary:s.name,secondary:c(F,{children:[t(m,{component:"span",variant:"body2",color:"text.primary",children:s.content}),` â€” ${U(s.created_at)}`]})}),t(p,{children:t(R,{onClick:()=>l(s.comment_id),children:t(N,{})})})]},s==null?void 0:s.comment_id)):t(m,{sx:{textAlign:"center",m:2},children:"Add comments to show here"})})]})})}export{E as default};
